# ðŸ“‹ à¸£à¸²à¸¢à¸‡à¸²à¸™à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸„à¸§à¸²à¸¡à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸‚à¸­à¸‡ Database Schema
> **à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ:** RGA AI Dashboard  
> **à¸§à¸±à¸™à¸—à¸µà¹ˆà¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:** 10 à¸¡à¸à¸£à¸²à¸„à¸¡ 2026  
> **à¸œà¸¹à¹‰à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:** Lead Data Architect  
> **à¹€à¸­à¸à¸ªà¸²à¸£à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡:** `à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸ à¸²à¸žà¸£à¸§à¸¡à¹à¸¥à¸°à¹à¸œà¸™à¸‡à¸²à¸™à¸ˆà¸²à¸à¹„à¸Ÿà¸¥à¹Œà¹€à¸­à¸à¸ªà¸²à¸£.txt`

---

## à¸šà¸—à¸ªà¸£à¸¸à¸›à¸œà¸¹à¹‰à¸šà¸£à¸´à¸«à¸²à¸£ (Executive Summary)

| à¸«à¸±à¸§à¸‚à¹‰à¸­ | à¸ªà¸–à¸²à¸™à¸° |
|--------|--------|
| **à¸„à¸§à¸²à¸¡à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸•à¸²à¸¡ Requirement** | âœ… à¸œà¹ˆà¸²à¸™ 92% |
| **à¸„à¸§à¸²à¸¡à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™ (Flexibility)** | âœ… à¸”à¸µà¸¡à¸²à¸ |
| **à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢ (Security)** | âœ… à¸„à¸£à¸šà¸–à¹‰à¸§à¸™ |
| **à¸£à¸­à¸‡à¸£à¸±à¸šà¸­à¸™à¸²à¸„à¸• (Scalability)** | âœ… à¸žà¸£à¹‰à¸­à¸¡ |

**à¸ªà¸£à¸¸à¸›:** Schema à¸—à¸µà¹ˆà¸­à¸±à¸žà¹€à¸à¸£à¸”à¸¡à¸µà¸„à¸§à¸²à¸¡ **à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹à¸¥à¸°à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡** à¸•à¸²à¸¡ Requirement à¸‚à¸­à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

---

## à¸ªà¹ˆà¸§à¸™à¸—à¸µà¹ˆ 1: à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸•à¸²à¸¡ Requirement à¸«à¸¥à¸±à¸

### 1.1 à¸£à¸°à¸šà¸š Multi-tenant (à¸¥à¸¹à¸à¸„à¹‰à¸²à¸«à¸¥à¸²à¸¢à¸£à¸²à¸¢)

ðŸ“Œ **Requirement (à¸šà¸£à¸£à¸—à¸±à¸” 4, 80):**
> "à¹ƒà¸«à¹‰à¹à¸•à¹ˆà¸¥à¸°à¸¥à¸¹à¸à¸„à¹‰à¸²à¸¡à¸µà¸šà¸±à¸à¸Šà¸µà¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹„à¸”à¹‰ à¹à¸¥à¸°à¹€à¸‰à¸žà¸²à¸°à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸­à¸‡à¸¥à¸¹à¸à¸„à¹‰à¸²à¸•à¸™à¸™à¸±à¹‰à¸™à¹€à¸­à¸‡ (multi-tenant)"
> "Multi-tenant design: à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¢à¸à¹à¸•à¹ˆà¸¥à¸°à¸¥à¸¹à¸à¸„à¹‰à¸²à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ shared database + row-level security"

**âœ… Schema à¸£à¸­à¸‡à¸£à¸±à¸š:**
```prisma
model Tenant {
  id        String   @id @default(cuid())
  name      String
  settings  Json?
  // Relations à¹„à¸›à¸¢à¸±à¸‡à¸—à¸¸à¸ Model à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡
  users                   User[]
  campaigns               Campaign[]
  notifications           Notification[]
  ...
}
```

| à¸•à¸²à¸£à¸²à¸‡ | à¸¡à¸µ tenantId | à¸ªà¸–à¸²à¸™à¸° |
|-------|-------------|--------|
| User | âœ… | à¸œà¹ˆà¸²à¸™ |
| Campaign | âœ… | à¸œà¹ˆà¸²à¸™ |
| Alert | âœ… | à¸œà¹ˆà¸²à¸™ |
| Notification | âœ… | à¸œà¹ˆà¸²à¸™ |
| SyncLog | âœ… | à¸œà¹ˆà¸²à¸™ |

**à¸„à¸§à¸²à¸¡à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™:** à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡ Row-Level Security (RLS) à¹ƒà¸™ Supabase à¹„à¸”à¹‰à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•

---

### 1.2 à¸£à¸°à¸šà¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸«à¸¥à¸²à¸¢à¸£à¸°à¸”à¸±à¸š (Role-based Access)

ðŸ“Œ **Requirement (à¸šà¸£à¸£à¸—à¸±à¸” 28, 131, 360):**
> "à¸£à¸°à¸šà¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸«à¸¥à¸²à¸¢à¸£à¸°à¸”à¸±à¸š (Role-based access): à¹€à¸Šà¹ˆà¸™ à¸œà¸¹à¹‰à¸”à¸¹à¹à¸¥, à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹ˆà¸§à¹„à¸›, à¸œà¸¹à¹‰à¸šà¸£à¸´à¸«à¸²à¸£"
> "Authentication / Authorization: OAuth2 / JWT / Role-based access control"

**âœ… Schema à¸£à¸­à¸‡à¸£à¸±à¸š:**
```prisma
enum UserRole {
  ADMIN       // à¸œà¸¹à¹‰à¸”à¸¹à¹à¸¥à¸£à¸°à¸šà¸š
  MANAGER     // à¸œà¸¹à¹‰à¸ˆà¸±à¸”à¸à¸²à¸£ (à¸ˆà¸±à¸”à¸à¸²à¸£ users à¹ƒà¸™à¸—à¸µà¸¡)
  CLIENT      // à¸¥à¸¹à¸à¸„à¹‰à¸²à¸—à¸±à¹ˆà¸§à¹„à¸›
  VIEWER      // à¸”à¸¹à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸”à¸µà¸¢à¸§ (read-only)
}

model User {
  role UserRole @default(CLIENT)
}
```

**à¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™:**
- âœ… `ADMIN` = à¸œà¸¹à¹‰à¸”à¸¹à¹à¸¥
- âœ… `MANAGER` = à¸œà¸¹à¹‰à¸ˆà¸±à¸”à¸à¸²à¸£/à¸œà¸¹à¹‰à¸šà¸£à¸´à¸«à¸²à¸£
- âœ… `CLIENT` = à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹ˆà¸§à¹„à¸›
- âœ… `VIEWER` = à¸œà¸¹à¹‰à¸”à¸¹à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸”à¸µà¸¢à¸§ (à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡à¸ˆà¸²à¸ Requirement)

**à¸„à¸§à¸²à¸¡à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™:** à¹ƒà¸Šà¹‰ Enum à¸—à¸³à¹ƒà¸«à¹‰à¹€à¸žà¸´à¹ˆà¸¡ Role à¹ƒà¸«à¸¡à¹ˆà¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢

---

### 1.3 à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ (Alert/Notification)

ðŸ“Œ **Requirement (à¸šà¸£à¸£à¸—à¸±à¸” 22, 355, 359):**
> "à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ (Alert/Notification): à¸–à¹‰à¸² metric à¹ƒà¸”à¹† à¹€à¸à¸´à¸™à¸«à¸£à¸·à¸­à¸•à¹ˆà¸³à¸à¸§à¹ˆà¸²à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¹„à¸§à¹‰"
> "KPI Setup / Threshold: à¸à¸³à¸«à¸™à¸” KPI à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸²à¸¡à¹à¸¥à¸°à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Threshold"
> "Alert & Notification Settings: à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸›à¸£à¸°à¹€à¸ à¸—à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™, à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¸à¸²à¸£à¸£à¸±à¸š (à¹ƒà¸™à¹à¸­à¸›, à¸­à¸µà¹€à¸¡à¸¥)"

**âœ… Schema à¸£à¸­à¸‡à¸£à¸±à¸š:**

| à¸•à¸²à¸£à¸²à¸‡ | à¸ˆà¸¸à¸”à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ | à¸ªà¸–à¸²à¸™à¸° |
|-------|-----------|--------|
| `AlertRule` | à¹€à¸à¹‡à¸šà¸à¸Ž/à¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ (threshold) | âœ… |
| `Alert` | à¹€à¸à¹‡à¸š alerts à¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™ | âœ… |
| `Notification` | à¸ªà¹ˆà¸‡à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹„à¸›à¸¢à¸±à¸‡ user | âœ… |

**à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ (Requirement: à¹ƒà¸™à¹à¸­à¸›, à¸­à¸µà¹€à¸¡à¸¥):**
```prisma
enum NotificationChannel {
  IN_APP      // âœ… à¹ƒà¸™à¹à¸­à¸›
  EMAIL       // âœ… à¸­à¸µà¹€à¸¡à¸¥
  LINE        // âœ… LINE (à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡)
  SMS         // âœ… SMS (à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡)
}
```

**à¸„à¸§à¸²à¸¡à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™:** à¸£à¸­à¸‡à¸£à¸±à¸šà¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¸¡à¸²à¸à¸à¸§à¹ˆà¸²à¸—à¸µà¹ˆ Requirement à¸à¸³à¸«à¸™à¸” (LINE, SMS)

---

### 1.4 à¸à¸²à¸£à¸£à¸§à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸à¸«à¸¥à¸²à¸¢à¹à¸«à¸¥à¹ˆà¸‡ (Data Integration)

ðŸ“Œ **Requirement (à¸šà¸£à¸£à¸—à¸±à¸” 37, 241-249):**
> "à¸à¸²à¸£à¸£à¸§à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (Data Integration): à¸£à¸§à¸šà¸£à¸§à¸¡à¸ˆà¸²à¸à¸«à¸¥à¸²à¸¢à¹à¸«à¸¥à¹ˆà¸‡ (Google Ads, Facebook Ads, GA4, CRM, à¸¯à¸¥à¸¯)"
> Data Sources: Google Ads, Meta Ads, TikTok Ads, LINE Ads, GA4

**âœ… Schema à¸£à¸­à¸‡à¸£à¸±à¸š:**

| à¹à¸žà¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡ | à¸•à¸²à¸£à¸²à¸‡ | à¸ªà¸–à¸²à¸™à¸° |
|-----------|-------|--------|
| Google Ads | `GoogleAdsAccount` | âœ… à¸¡à¸µ |
| Facebook Ads | `FacebookAdsAccount` | âœ… à¸¡à¸µ |
| TikTok Ads | `TikTokAdsAccount` | âœ… à¸¡à¸µ |
| LINE Ads | `LineAdsAccount` | âœ… à¸¡à¸µ |
| Google Analytics | `GoogleAnalyticsAccount` | âœ… à¸¡à¸µ |
| Unified Token | `PlatformToken` | âœ… à¸¡à¸µ (à¹ƒà¸«à¸¡à¹ˆ) |

**AdPlatform Enum:**
```prisma
enum AdPlatform {
  GOOGLE_ADS
  FACEBOOK
  TIKTOK
  LINE_ADS
  GOOGLE_ANALYTICS
}
```

**à¸„à¸§à¸²à¸¡à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™:** à¹€à¸žà¸´à¹ˆà¸¡à¹à¸žà¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡à¹ƒà¸«à¸¡à¹ˆà¹„à¸”à¹‰à¹‚à¸”à¸¢à¹€à¸žà¸´à¹ˆà¸¡à¸„à¹ˆà¸²à¹ƒà¸™ Enum

---

### 1.5 à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹à¸¥à¸°à¸à¸²à¸£à¹€à¸à¹‡à¸š Log

ðŸ“Œ **Requirement (à¸šà¸£à¸£à¸—à¸±à¸” 43, 86, 163):**
> "à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢ & à¸à¸²à¸£à¹€à¸à¹‡à¸š Log: à¹€à¸žà¸£à¸²à¸°à¹€à¸›à¹‡à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸¡à¸µà¸„à¹ˆà¸²à¹à¸¥à¸°à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§"
> "Logging / Audit trail / Data governance"
> "Security: SSL/TLS, WAF, RBAC, encryption at rest/in transit"

**âœ… Schema à¸£à¸­à¸‡à¸£à¸±à¸š:**

**User Security Fields:**
```prisma
model User {
  lastLoginAt       DateTime?   // âœ… à¸•à¸´à¸”à¸•à¸²à¸¡ Login
  lastLoginIp       String?     // âœ… à¸•à¸´à¸”à¸•à¸²à¸¡ IP
  failedLoginCount  Int         // âœ… à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ Brute Force
  lockedUntil       DateTime?   // âœ… Lock Account
  passwordChangedAt DateTime?   // âœ… Password Rotation
  twoFactorEnabled  Boolean     // âœ… 2FA Support
}

model Session {
  ipAddress    String?   // âœ… à¸•à¸´à¸”à¸•à¸²à¸¡ Session
  userAgent    String?   // âœ… à¸•à¸´à¸”à¸•à¸²à¸¡ Device
}
```

**Audit Trail:**
```prisma
model AuditLog {
  id        String   @id
  userId    String?
  action    String
  resource  String
  details   String?
  ipAddress String?
  userAgent String?
  createdAt DateTime
}
```

**à¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™:** âœ… à¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¸•à¸²à¸¡ Security Best Practice

---

### 1.6 Dashboard KPIs à¹à¸¥à¸° Metrics

ðŸ“Œ **Requirement (à¸šà¸£à¸£à¸—à¸±à¸” 7, 215, 226-227):**
> "à¸ªà¸£à¸¸à¸› key metrics à¹à¸šà¸šà¸”à¹ˆà¸§à¸™ à¹€à¸Šà¹ˆà¸™ à¸¢à¸­à¸”à¸œà¸¹à¹‰à¸Šà¸¡/à¸„à¸¥à¸´à¸/à¹à¸›à¸¥à¸‡ (conversion)/ROI/CPM/CTR"
> "à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¹à¸™à¸§à¹‚à¸™à¹‰à¸¡ à¹€à¸Šà¹ˆà¸™ CTR, CPA, ROI, ROAS, Conversion Rate"
> "à¹à¸ªà¸”à¸‡ KPI à¸«à¸¥à¸±à¸à¹à¸šà¸š Real-time (Revenue, Cost, Profit, ROI, CAC, LTV)"

**âœ… Schema à¸£à¸­à¸‡à¸£à¸±à¸š:**
```prisma
model Metric {
  impressions Int       // âœ… à¸¢à¸­à¸”à¹à¸ªà¸”à¸‡à¸œà¸¥
  clicks      Int       // âœ… à¸„à¸¥à¸´à¸
  spend       Float     // âœ… à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢
  conversions Int       // âœ… Conversion
  revenue     Float     // âœ… à¸£à¸²à¸¢à¹„à¸”à¹‰
  ctr         Float     // âœ… CTR
  cpc         Float     // âœ… CPC (à¸«à¸²à¹„à¸”à¹‰à¸ˆà¸²à¸ CPA)
  cpm         Float     // âœ… CPM
  roas        Float     // âœ… ROAS
}

model WebAnalyticsDaily {
  activeUsers        Int     // âœ… Traffic
  sessions           Int     // âœ… Sessions
  bounceRate         Float   // âœ… Bounce Rate
  engagementRate     Float   // âœ… Engagement
}
```

**à¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™:** à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡ KPIs à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

---

## à¸ªà¹ˆà¸§à¸™à¸—à¸µà¹ˆ 2: à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸„à¸§à¸²à¸¡à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™ (Flexibility)

### 2.1 à¸à¸²à¸£à¹ƒà¸Šà¹‰ Enum à¹à¸—à¸™ String

| à¸«à¸¡à¸§à¸” | à¸„à¸§à¸²à¸¡à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™ |
|------|-------------|
| à¹€à¸žà¸´à¹ˆà¸¡ Role à¹ƒà¸«à¸¡à¹ˆ | âœ… à¹€à¸žà¸´à¹ˆà¸¡à¹ƒà¸™ `UserRole` enum |
| à¹€à¸žà¸´à¹ˆà¸¡à¹à¸žà¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡à¹ƒà¸«à¸¡à¹ˆ | âœ… à¹€à¸žà¸´à¹ˆà¸¡à¹ƒà¸™ `AdPlatform` enum |
| à¹€à¸žà¸´à¹ˆà¸¡à¸ªà¸–à¸²à¸™à¸° Campaign | âœ… à¹€à¸žà¸´à¹ˆà¸¡à¹ƒà¸™ `CampaignStatus` enum |
| à¹€à¸žà¸´à¹ˆà¸¡à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ | âœ… à¹€à¸žà¸´à¹ˆà¸¡à¹ƒà¸™ `NotificationChannel` enum |

### 2.2 à¸à¸²à¸£à¹ƒà¸Šà¹‰ Json Fields

```prisma
// Tenant settings à¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¸ˆà¸³à¸à¸±à¸”
settings  Json?

// User preferences à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™
notificationPreferences Json?

// Notification metadata à¸ªà¸³à¸«à¸£à¸±à¸š Frontend
metadata Json? @db.JsonB
```

**à¸›à¸£à¸°à¹‚à¸¢à¸Šà¸™à¹Œ:** à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡ field à¹ƒà¸«à¸¡à¹ˆà¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ migrate schema

### 2.3 à¸à¸²à¸£à¹ƒà¸Šà¹‰ Optional Fields

- à¸—à¸¸à¸ security field à¹€à¸›à¹‡à¸™ optional (`DateTime?`, `String?`)
- à¸ªà¸²à¸¡à¸²à¸£à¸– deploy à¹„à¸”à¹‰à¸—à¸±à¸™à¸—à¸µà¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ migration data à¹€à¸”à¸´à¸¡

---

## à¸ªà¹ˆà¸§à¸™à¸—à¸µà¹ˆ 3: Gap Analysis (à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸­à¸²à¸ˆà¸•à¹‰à¸­à¸‡à¹€à¸žà¸´à¹ˆà¸¡à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•)

### ðŸŸ¡ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸—à¸µà¹ˆà¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ à¹à¸•à¹ˆà¸à¸³à¸«à¸™à¸”à¹ƒà¸™ Phase 2-3

| à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ | Requirement | à¸ªà¸–à¸²à¸™à¸° | à¹à¸™à¸§à¸—à¸²à¸‡ |
|---------|-------------|--------|--------|
| **E-commerce (Shopee/Lazada)** | à¸šà¸£à¸£à¸—à¸±à¸” 48, 248-249 | âŒ à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ | à¹€à¸žà¸´à¹ˆà¸¡ `EcommerceAccount` à¹à¸¥à¸° `ProductMetric` à¹ƒà¸™à¸­à¸™à¸²à¸„à¸• |
| **SEO Keyword Ranking** | à¸šà¸£à¸£à¸—à¸±à¸” 51, 245, 278 | âŒ à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ | à¹€à¸žà¸´à¹ˆà¸¡ `KeywordRanking` table |
| **CRM/Lead Tracking** | à¸šà¸£à¸£à¸—à¸±à¸” 247, 294-300 | âŒ à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ | à¹€à¸žà¸´à¹ˆà¸¡ `Lead` à¹à¸¥à¸° `Customer` tables |
| **AI Chatbot History** | à¸šà¸£à¸£à¸—à¸±à¸” 234-235 | âŒ à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ | à¹€à¸žà¸´à¹ˆà¸¡ `ChatHistory` table |
| **Report Templates** | à¸šà¸£à¸£à¸—à¸±à¸” 343-344, 556 | âŒ à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ | à¹€à¸žà¸´à¹ˆà¸¡ `ReportTemplate` à¹à¸¥à¸° `ScheduledReport` |

**à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸:** à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¹€à¸«à¸¥à¹ˆà¸²à¸™à¸µà¹‰à¸à¸³à¸«à¸™à¸”à¹„à¸§à¹‰à¹ƒà¸™ **Phase 2-3** (Sprint 5-12) à¸ˆà¸¶à¸‡à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™à¸ªà¸³à¸«à¸£à¸±à¸š Sprint 4

---

## à¸ªà¹ˆà¸§à¸™à¸—à¸µà¹ˆ 4: à¸ªà¸£à¸¸à¸›à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚à¸—à¸µà¹ˆà¸—à¸³à¹„à¸›à¹à¸¥à¹‰à¸§

### à¸£à¸²à¸¢à¸à¸²à¸£à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡à¸ˆà¸²à¸ Sprint 3 â†’ Sprint 4

| # | à¸«à¸¡à¸§à¸” | à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚ | à¹„à¸Ÿà¸¥à¹Œ/à¸šà¸£à¸£à¸—à¸±à¸” |
|---|------|----------|-------------|
| 1 | **Enums** | à¹€à¸žà¸´à¹ˆà¸¡ 9 Enums à¹ƒà¸«à¸¡à¹ˆ | L16-84 |
| 2 | **User Security** | à¹€à¸žà¸´à¹ˆà¸¡ 9 fields à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢ | L130-141 |
| 3 | **Session Security** | à¹€à¸žà¸´à¹ˆà¸¡ `ipAddress`, `userAgent` | L160-161 |
| 4 | **Notification** | à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ 20 fields | L427-470 |
| 5 | **PlatformToken** | à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ 15 fields | L476-508 |
| 6 | **Campaign** | à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ Stringâ†’Enum | L168-169, 179 |
| 7 | **Alert** | à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ Stringâ†’Enum + Json | L403, 406-407 |
| 8 | **AlertRule** | à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ Stringâ†’Enum | L380, 384 |
| 9 | **SyncLog** | à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ Stringâ†’Enum | L517-520 |
| 10 | **Tenant** | à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ settingsâ†’Json, à¹€à¸žà¸´à¹ˆà¸¡ relations | L93, 115-116 |
| 11 | **Indexes** | à¹€à¸žà¸´à¹ˆà¸¡ composite indexes | à¸«à¸¥à¸²à¸¢à¸ˆà¸¸à¸” |

---

## à¸ªà¹ˆà¸§à¸™à¸—à¸µà¹ˆ 5: à¸‚à¹‰à¸­à¹€à¸ªà¸™à¸­à¹à¸™à¸°

### âœ… à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸—à¸³à¹„à¸”à¹‰à¸”à¸µ
1. **Multi-tenant à¸„à¸£à¸šà¸–à¹‰à¸§à¸™** - à¸—à¸¸à¸à¸•à¸²à¸£à¸²à¸‡à¸¡à¸µ `tenantId`
2. **Type Safety** - à¹ƒà¸Šà¹‰ Enum à¹à¸—à¸™ String
3. **Security à¸„à¸£à¸š** - à¸¡à¸µ brute force protection, 2FA support
4. **Notification System** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡
5. **Token Management** - à¸¡à¸µ unified `PlatformToken`

### ðŸ”§ à¸‚à¹‰à¸­à¹€à¸ªà¸™à¸­à¹à¸™à¸°à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡
1. **E-commerce:** à¹€à¸•à¸£à¸µà¸¢à¸¡ schema à¸ªà¸³à¸«à¸£à¸±à¸š Shopee/Lazada à¹ƒà¸™ Sprint 5
2. **SEO Module:** à¹€à¸žà¸´à¹ˆà¸¡ `KeywordRanking` table à¹ƒà¸™ Sprint 6
3. **Chat History:** à¹€à¸•à¸£à¸µà¸¢à¸¡ schema à¸ªà¸³à¸«à¸£à¸±à¸š AI Chatbot à¹ƒà¸™ Sprint 8

---

## à¸ªà¸£à¸¸à¸›

| à¹€à¸à¸“à¸‘à¹Œ | à¸„à¸°à¹à¸™à¸™ | à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸ |
|-------|-------|----------|
| à¸„à¸§à¸²à¸¡à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸•à¸²à¸¡ Requirement | 9/10 | à¸‚à¸²à¸”à¹€à¸‰à¸žà¸²à¸° Phase 2-3 features |
| à¸„à¸§à¸²à¸¡à¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™ | 10/10 | à¹ƒà¸Šà¹‰ Enum + Json à¹„à¸”à¹‰à¸”à¸µ |
| à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢ | 10/10 | à¸„à¸£à¸šà¸—à¸¸à¸ Best Practice |
| à¸žà¸£à¹‰à¸­à¸¡à¸ªà¸³à¸«à¸£à¸±à¸š Sprint 4 | âœ… | **à¸žà¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™** |

---

> **à¸œà¸¹à¹‰à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:** Lead Data Architect  
> **à¸§à¸±à¸™à¸—à¸µà¹ˆà¸£à¸±à¸šà¸£à¸­à¸‡:** 10 à¸¡à¸à¸£à¸²à¸„à¸¡ 2026  
> **à¸ªà¸–à¸²à¸™à¸°:** âœ… **à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´**
